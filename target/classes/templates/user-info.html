<!DOCTYPE HTML >
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>
<!--<body class="body-main">-->
<body>
<div class="wrapper">
    <header th:replace="~{fragments/header :: header}"></header>
    <div class="sidebar">
        <div th:replace="~{fragments/menu :: menu}"></div>
    </div>
    <div class="section container">
        <div class="main_content section row">

            <div class="layout">
                <input name="nav" type="radio" class="nav home-radio" id="home" checked="checked"/>
                <div class="page home-page">
                    <div class="page-contents" style="left: 0;">
                        <p th:text="'Ім`я: ' + ${user.getFirstName()}"></p> <br>
                        <p th:text="'Призвіще: ' + ${user.getLastName()}"></p><br>
                        <p>Дата реєстрації:
                            <span th:text="${#temporals.format(user.getDateOfCreated, 'dd.MM.yyyy')}"></span>
                        </p><br>
                        <p th:text="'Email: ' + ${user.getEmail()}"></p><br>
                    </div>
                </div>
                <label class="nav" for="home">
                    <span>
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                             fill="none"
                             stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path
                                d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline
                                points="9 22 9 12 15 12 15 22"></polyline></svg>
                        Профіль
                    </span>
                </label>
                <input name="nav" type="radio" class="about-radio" id="about"/>
                <div class="page about-page">
<!--                    <div class="page-contents">-->
                        <main class="col-md-6 col-lg-7 block_left">

                            <h5>Змінити особисті данні</h5><br>

                            <form id="update_profile" action="/user/1/update" method="post">
                                <table class="profile-edit">
                                    <tr>
                                        <td>
                                            <label class="label-profile" for="first-name">Ім'я:</label>
                                        </td>
                                        <td>
                                            <input type="text" class="input" id="first-name"
                                                   name="firstName" th:value="${user.getFirstName()}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="last-name">Призвіще:</label>
                                        </td>
                                        <td>
                                            <input type="text" class="input" id="last-name"
                                                   name="lastName" th:value="${user.getLastName()}">
                                        </td>
                                    </tr>
                                    <!--                                                <tr>-->
                                    <!--                                                    <td>-->
                                    <!--                                                        <label for="message">Повідомлення:</label>-->
                                    <!--                                                    </td>-->
                                    <!--                                                    <td>-->
                                    <!--                                                        <textarea id="message" name="message"></textarea>-->
                                    <!--                                                    </td>-->
                                    <!--                                                </tr>-->
                                </table>
                                <!--                                                <input type="hidden" name="_csrf" th:value="${_csrf}">-->
                                <br><button type="submit">Оновити данні</button>
                            </form>
                            <div id="resultDivError"></div>

                            <br><br><h5>Змінити пароль</h5><br>
                            <form id="update_password" action="/user/1/update-password" method="post">
                                <table class="profile-edit">
                                    <tr>
                                        <td>
                                            <label class="label-profile" for="old-password">Пароль:</label>
                                        </td>
                                        <td>
                                            <input type="password" class="input" id="old-password"
                                                   name="password">
                                            <div id="password-edit-error" style="color: red"></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="newPassword">Новий пароль:</label>
                                        </td>
                                        <td>
                                            <input type="password" class="input" id="newPassword"
                                                   name="newPassword">
                                        </td>
                                    </tr>
                                </table>
                                <div id="password-edit-success" style="color: darkgreen"></div>
                                <br><button type="submit">Змінити пароль</button>
                            </form>
                            <br>
                            <form>
                                <button type="submit">Видалити профіль</button>
                            </form>
                        </main>
                        <div class="col-md-6 col-lg-5 block_right">
                            <div class="row">
                                <!-- ASIDE #1 -->
<!--                                <aside class="col-sm-6 col-md-12" style="width: 100%">-->


                                    <h5>Завантажити аватар</h5>
                                    <div class="demo-wrap upload-demo">
                                        <div class="actions">
<!--                                        <form>-->
                                            <a class="btn file-btn">
                                                <span>Виберіть фото</span>
                                            <input type="file" id="upload" accept="image/*">
                                            </a>
                                            <!--                                        </form>-->
                                            <button id="crop" >Готово</button>
                                        </div>
                                        <div id="upload-demo-wrap">
                                            <div id="upload-demo"></div>
                                        </div><br><br>
<!--                                        <button id="crop" >Crop Image</button>-->
<!--                                        <div id="result"></div>-->
                                    </div>
<!--                                    <img th:src="@{/avatar/{avatarName}(avatarName = ${avatarName})}"/>-->
                                <style>
                                    .upload-demo-wrap {
                                        display: block;
                                        margin: auto;
                                        text-align: center;
                                        width: 300px;
                                    }

                                    .upload-demo-wrap img {
                                        max-width: 100%;
                                    }

                                    .upload-demo-wrap .upload-demo {
                                        display: block;
                                        margin: 20px auto;
                                        width: 100%;
                                    }

                                    .upload-demo-wrap .upload-demo.ready .cr-boundary {
                                        border-radius: 50%;
                                        overflow: hidden;
                                    }
                                    .croppie-container {
                                        width: 500px;
                                        height: 400px;
                                        position: relative;
                                    }

                                    .croppie-container img {
                                        max-width: 100%;
                                        max-height: 100%;
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                    }
                                </style>
<!--                                </aside>-->
<!--                            </div>-->
                        </div>
                    </div>
                </div>
                <label class="nav" for="about">
                    <span>
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                             fill="none"
                             stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12"
                                                                                                       r="10"></circle><path
                                d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12"
                                                                                      y2="17"></line></svg>
                         Редагувати профіль
                    </span>
                </label>
            </div>
        </div>
    </div>
    <!--    <footer th:replace="fragments/footer :: footer"></footer>-->
</div>
<script type="text/javascript"  th:src="@{/js/croppie.js}"></script>
<script type="text/javascript"  th:src="@{/js/cropAndUploadAvatart.js}"></script>
</body>
</html>